# 제품 요구사항 문서 (PRD) - dokkanviewer

## 1. 개요

### 프로젝트명
dokkanviewer

### 목표
이 웹페이지는 Dokkan Battle 게임의 데이터를 사용자가 보기 편하게 정제해서 보여주는 것을 목표로 한다.  
추가적으로 전투 시뮬레이션 기능과 다양한 캐릭터/카드/아이템 등 게임 에셋을 시각적으로 탐색할 수 있도록 구성한다.

---

## 2. 핵심 기능 요약

| 기능명                        | 설명                                                                 | 우선순위 | 비고                      |
|-----------------------------|----------------------------------------------------------------------|--------|---------------------------|
| 캐릭터 리스트 뷰어               | 게임 내 모든 캐릭터를 목록 형태로 출력, 썸네일/이름/속성 등 표시                      | 상     | 기본 정렬 및 검색 포함 예정   |
| 캐릭터 상세 데이터 뷰어           | 캐릭터 클릭 시 세부 능력치, 패시브, 링크 스킬 등 상세 정보 출력                       | 상     |                           |
| 카테고리/속성별 필터링 뷰어       | 속성별, 카테고리별로 소속된 캐릭터만 필터링하여 리스트 출력                          | 상     | 독립된 페이지에서 구성 예정     |
| 링크 스킬 조합 시뮬레이션         | 여러 캐릭터의 링크 스킬을 조합해 연결 정도 및 시너지 확인                             | 중     | 추후 UI 설계 필요            |
| 팀 조합 시뮬레이션               | 캐릭터를 팀으로 구성해 팀 링크, 구성 제한 조건 등을 시뮬레이션                        | 하     | 2차 개발 예정               |
| 전투 시뮬레이션                 | 구성된 팀으로 적 캐릭터와 가상 전투를 시뮬레이션, 데미지 계산 등                      | 하     | 2차 개발 예정               |
| 관리자 기능                    | 캐릭터, 카테고리 등 게임 데이터 추가/수정/삭제 기능 제공                              | 중     | 관리자 페이지 및 로그인 필요    |

---

## 3. 사용자 시나리오 (User Flow)

1. 사용자가 dokkanviewer 페이지에 접속한다.  
2. 메인 화면에서 전체 캐릭터 리스트를 확인한다.  
3. 캐릭터를 클릭하여 상세 데이터를 확인한다.  
4. (선택) 상단 메뉴에서 '속성별 보기' 또는 '카테고리별 보기'로 이동한다.  
5. 해당 페이지에서 필터링된 캐릭터 리스트를 탐색한다.  
6. (선택) 여러 캐릭터를 선택해 링크 스킬 시너지를 확인한다.  
7. (차후) 팀 조합 시뮬레이션 또는 전투 시뮬레이션을 수행한다.  
8. (관리자 전용) `/admin` 페이지에서 캐릭터 데이터 등을 관리한다.

---

## 4. 화면/페이지 구성

| 화면명               | 설명                                                                 | 주요 구성 요소                                         |
|--------------------|----------------------------------------------------------------------|----------------------------------------------------|
| 메인 화면            | 사이트의 첫 진입점으로, 전체 캐릭터 리스트를 표시                     | 캐릭터 썸네일 목록, 검색창, 상단 메뉴                        |
| 캐릭터 상세 페이지       | 선택한 캐릭터의 상세 정보를 제공                                     | 캐릭터 이미지, 스탯, 패시브, 링크 스킬, 카테고리 등               |
| 속성별 캐릭터 리스트     | 선택한 속성에 해당하는 캐릭터 리스트 표시                           | 속성 필터, 캐릭터 썸네일 목록                              |
| 카테고리별 캐릭터 리스트   | 선택한 카테고리 소속 캐릭터 리스트 표시                             | 카테고리 필터, 캐릭터 썸네일 목록                            |
| 링크 스킬 시뮬레이션     | 여러 캐릭터의 링크 스킬 시너지 확인                                 | 캐릭터 선택 UI, 링크 매칭 결과, 시너지 점수 등                  |
| 팀 조합 시뮬레이션 (예정) | 팀 구성 후 링크 스킬/시너지 확인                                    | 팀 구성 UI, 자동 추천, 조건 필터링 등                          |
| 전투 시뮬레이션 (예정)   | 구성된 팀으로 가상의 전투 시뮬레이션                                 | 적 캐릭터 선택, 데미지 계산 결과, 턴 로그 등                   |
| 관리자 페이지           | 데이터 추가/수정/삭제를 위한 관리용 페이지                           | 로그인 기능, 데이터 입력 폼, 리스트/편집/삭제 인터페이스 등         |

---

## 5. 기술 요구사항

### 프론트엔드
- **언어**: TypeScript
- **프레임워크**: Next.js
- **스타일링**: Tailwind CSS
- **상태 관리**: Zustand
- **라우팅**: Next.js 내장 라우터
- **인증/인가**: JWT 기반 관리자 로그인 기능 구현 예정
- **이미지 처리**: Canvas API를 활용한 썸네일 생성
- **필터링**: ID 기반 필터링 (첫 자리수 1, 마지막 자리수 0)
- **속성 표시**: 속성별 색상 구분 (민첩=파랑, 기술=초록, 지능=보라, 근력=빨강, 체력=노랑)

### 백엔드
- **서버 프레임워크**: Express.js (REST API 제공)
- **언어**: TypeScript
- **DB**: SQLite3
- **ORM**: Prisma (향후 도입 예정)
- **인증/인가**:
  - 관리자 로그인용 API
  - JWT 기반 세션 관리
  - 관리자 전용 라우터 보호
- **필터링**: 
  - ID 기반 필터링 (첫 자리수, 마지막 자리수)
  - 날짜 기반 필터링 (내년 12월 31일 이전)

### 관리자 기능
- 관리자 전용 로그인 기능
- 캐릭터, 링크스킬, 카테고리, 시뮬레이션 설정 등의 CRUD
- 관리자 전용 페이지(`/admin`)에서 UI로 관리

### 배포
- Docker 컨테이너로 배포
- 프론트/백 분리 구성 (컨테이너 2개)
- Nginx Reverse Proxy 통해 접근 도메인 분기 예정
- 개발 환경 자동화 스크립트 제공
  - PowerShell 기반 개발 환경 시작/중지 스크립트
  - 실시간 코드 반영을 위한 볼륨 마운트 설정
  - 개발용 Dockerfile 분리 구성

---

## 6. 일정 및 마일스톤

| 단계           | 목표 내용                            | 예정일       | 상태 |
|--------------|------------------------------------|------------|------|
| 기획 완료        | PRD 정리 및 화면 구성 기획                  | 2024-04-12 | 완료 |
| 프론트 초기 개발   | 캐릭터 리스트 및 상세 뷰어 기능 개발 시작         | 2024-04-17 | 완료 |
| 백엔드 초기 개발   | Express.js 서버 설정 및 기본 API 구현        | 2024-04-17 | 완료 |
| 카드 표시 개선     | 속성별 색상 표시 및 ID 기반 필터링 구현         | 2024-04-18 | 완료 |
| 관리자 기능 개발   | 관리자 로그인 및 캐릭터 추가/수정 기능 구현       | 2024-05-05 | 예정 |
| 시뮬레이션 개발 시작 | 링크 스킬/팀 조합/전투 시뮬레이션 점진적 개발       | 2024-05-10 | 예정 |
| MVP 완성        | 기능 통합 및 베타 테스트 준비                | 2024-05-20 | 예정 |

---

## 7. 기타 참고사항

- 참고 사이트: [https://dokkaninfo.com](https://dokkaninfo.com)
- 디자인: 모바일 우선 반응형 디자인
- 장기적으로는 알림 기능, 유저 팀 저장 기능, SNS 공유 기능도 고려 가능